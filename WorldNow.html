<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #000; overflow: hidden; }
        #player { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }
        #ui-layer { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 100; 
            display: flex; flex-direction: column; justify-content: center; align-items: center; 
            background: rgba(0, 0, 0, 0.9);
            color: #fff;
        }
        .action-btn { 
            margin: 10px; padding: 15px 30px; border: none; border-radius: 5px; 
            font-size: 16px; cursor: pointer;
            /* åˆæœŸçŠ¶æ…‹ã§ã¯ç„¡åŠ¹ */
            background: #555; 
            color: #ccc;
        }
        .action-btn.enabled { 
             /* æº–å‚™å®Œäº†å¾Œã«æœ‰åŠ¹åŒ– */
            background: #ff0000; 
            color: #fff;
        }
        .action-btn.enabled:hover { background: #e60000; }
    </style>
</head>
<body>

    <div id="player"></div>

    <!-- éŸ³é‡é¸æŠUI -->
    <div id="ui-layer">
        <h2 id="status-text">YouTubeãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’èª­ã¿è¾¼ã¿ä¸­...</h2>
        <button id="btn-sound-on" class="action-btn" onclick="startTour(false)" disabled>ğŸ§ éŸ³ã‚ã‚Šã§æ¥½ã—ã‚€</button>
        <button id="btn-sound-off" class="action-btn" onclick="startTour(true)" disabled>ğŸ”‡ éŸ³ãªã—ã§æ¥½ã—ã‚€</button>
    </div>

<script src="https://www.youtube.com"></script>
<script>
    const videoList = ['OuCbntsMsWY', 'DhB2NS6i4uA', '5_XSYlAfJZM']; 
    let currentIndex = 0;
    let player;
    let isMutedGlobal = false;

    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
            height: '100%',
            width: '100%',
            videoId: videoList[currentIndex],
            playerVars: { 
                'autoplay': 0, 'controls': 0, 'rel': 0, 
                'mute': 1, 'playsinline': 1, 'enablejsapi': 1, 'origin': window.location.origin
            },
            events: {
                'onReady': onPlayerReady // æº–å‚™å®Œäº†ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¨­å®š
            }
        });
    }

    // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æº–å‚™ãŒã§ããŸã‚‰å®Ÿè¡Œã•ã‚Œã‚‹é–¢æ•°
    function onPlayerReady(event) {
        document.getElementById('status-text').innerText = "ä¸–ç•Œæ—…è¡Œã¸å‡ºç™ºï¼éŸ³é‡ã‚’é¸ã‚“ã§ãã ã•ã„";
        // ãƒœã‚¿ãƒ³ã‚’æœ‰åŠ¹åŒ–ã—ã€ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨
        document.getElementById('btn-sound-on').disabled = false;
        document.getElementById('btn-sound-off').disabled = false;
        document.getElementById('btn-sound-on').classList.add('enabled');
        document.getElementById('btn-sound-off').classList.add('enabled');
    }

    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸæ™‚ã®é–‹å§‹é–¢æ•°ï¼ˆTypeErrorã‚’å›é¿ï¼‰
    function startTour(muteStatus) {
        // playerãŒç¢ºå®Ÿã«å­˜åœ¨ã™ã‚‹ã®ã§ã€ã“ã“ã§TypeErrorã¯èµ·ããªã„
        document.getElementById('ui-layer').style.display = 'none';
        isMutedGlobal = muteStatus;

        if (muteStatus) {
            player.mute();
        } else {
            player.unMute(); 
        }

        player.playVideo();
        setInterval(nextDestination, 60000);
    }

    function nextDestination() {
        currentIndex = (currentIndex + 1) % videoList.length;
        player.loadVideoById(videoList[currentIndex]); 

        if (isMutedGlobal) {
            player.mute();
        } else {
            player.unMute(); 
        }
    }
</script>
</body>
</html>
