<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #000; overflow: hidden; }
        #player { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }
        #ui-layer { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 100; 
            display: flex; flex-direction: column; justify-content: center; align-items: center; 
            background: rgba(0, 0, 0, 0.9);
        }
        .action-btn { 
            margin: 10px; padding: 15px 30px; background: #ff0000; color: #fff; border: none; border-radius: 5px; 
            font-size: 16px; cursor: pointer;
        }
        .action-btn:hover { background: #e60000; }
    </style>
</head>
<body>

    <div id="player"></div>

    <!-- éŸ³é‡é¸æŠUI -->
    <div id="ui-layer">
        <h2>ä¸–ç•Œæ—…è¡Œã¸å‡ºç™ºï¼éŸ³é‡ã‚’é¸ã‚“ã§ãã ã•ã„</h2>
        <button class="action-btn" onclick="startTour(false)">ğŸ§ éŸ³ã‚ã‚Šã§æ¥½ã—ã‚€</button>
        <button class="action-btn" onclick="startTour(true)">ğŸ”‡ éŸ³ãªã—ã§æ¥½ã—ã‚€</button>
    </div>

<script src="https://www.youtube.com"></script>
<script>
    // ãƒ©ã‚¤ãƒ–ã‚«ãƒ¡ãƒ©IDãƒªã‚¹ãƒˆ
    const videoList = ['OuCbntsMsWY', 'DhB2NS6i4uA', '5_XSYlAfJZM']; 
    let currentIndex = 0;
    let player;
    let isMutedGlobal = false; // ç¾åœ¨ã®ãƒŸãƒ¥ãƒ¼ãƒˆçŠ¶æ…‹

    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
            height: '100%',
            width: '100%',
            videoId: videoList[currentIndex],
            playerVars: { 
                'autoplay': 0, 'controls': 0, 'rel': 0, 
                'mute': 1, // åˆæœŸçŠ¶æ…‹ã¯ãƒŸãƒ¥ãƒ¼ãƒˆå¿…é ˆ
                'playsinline': 1, 'enablejsapi': 1, 'origin': window.location.origin
            }
        });
    }

    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸæ™‚ã®é–‹å§‹é–¢æ•°
    function startTour(muteStatus) {
        document.getElementById('ui-layer').style.display = 'none';
        isMutedGlobal = muteStatus; // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã«éŸ³é‡è¨­å®šã‚’ä¿å­˜

        if (muteStatus) {
            player.mute();
        } else {
            player.unMute(); // ãƒ–ãƒ©ã‚¦ã‚¶ãŒè¨±å¯ã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°
        }

        player.playVideo();
        
        // 60ç§’ã”ã¨ã«åˆ‡ã‚Šæ›¿ãˆã‚’é–‹å§‹
        setInterval(nextDestination, 60000);
    }

    // æ¬¡ã®ç›®çš„åœ°ã¸åˆ‡ã‚Šæ›¿ãˆã‚‹
    function nextDestination() {
        currentIndex = (currentIndex + 1) % videoList.length;
        
        // æ–°ã—ã„å‹•ç”»ã‚’èª­ã¿è¾¼ã‚€
        player.loadVideoById(videoList[currentIndex]); 

        // ã“ã“ãŒé‡è¦: è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆæ™‚ã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ãŒå‹æ‰‹ã«éŸ³ã‚’æ­¢ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé¸æŠã—ãŸãƒŸãƒ¥ãƒ¼ãƒˆçŠ¶æ…‹ã‚’ç¶­æŒã™ã‚‹ã‚ˆã†åŠªã‚ã‚‹
        if (isMutedGlobal) {
            player.mute();
        } else {
            // éŸ³ã‚ã‚Šã‚’ç¶­æŒã—ãŸã„å ´åˆã€ãƒ–ãƒ©ã‚¦ã‚¶ã®åˆ¤æ–­ã«å§”ã­ã‚‰ã‚Œã‚‹
            player.unMute(); 
        }
    }
</script>
</body>
</html>
